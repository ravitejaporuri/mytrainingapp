<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<automatonExport>
    <automaton>
        <approvalNotes>Execution# https://ipctrprodmel.ipctrmel02.com/IPautomata/executionDetails.htm?executionID=41270&#xD;
Devops:Devops:https://hub.jazz.net/ccm06/resource/itemName/com.ibm.team.workitem.WorkItem/29538</approvalNotes>
        <approvalStatus>APPROVED</approvalStatus>
        <automaticDelaySeconds>60</automaticDelaySeconds>
        <created>2015-06-12T06:46:26Z</created>
        <Category>
            <categoryID>1287</categoryID>
            <clientID>33</clientID>
            <name>Diagnosis</name>
            <parent>
                <categoryID>1285</categoryID>
                <clientID>33</clientID>
                <name>Components</name>
                <parent>
                    <categoryID>377</categoryID>
                    <clientID>33</clientID>
                    <name>Network Management</name>
                </parent>
            </parent>
        </Category>
        <automatonID>16130</automatonID>
        <executionMode>MANUAL</executionMode>
        <isLive>true</isLive>
        <isMasterTicketOnly>true</isMasterTicketOnly>
        <matchType>AND</matchType>
        <modified>2015-11-06T10:21:30Z</modified>
        <name>TBK:NTW:CIS:D:C:Router Check Link Utilization V1.0</name>
        <purpose>DIAGNOSIS</purpose>
        <newExecutionThrottleCount>0</newExecutionThrottleCount>
        <newExecutionThrottlePeriodSeconds>0</newExecutionThrottlePeriodSeconds>
        <engineerTimeToDiagnose>0</engineerTimeToDiagnose>
        <engineerTimeToRemediate>0</engineerTimeToRemediate>
        <ConstantVariables>
            <ConstantVariable>
                <automatonID>16130</automatonID>
                <name>showipflow</name>
                <secure>false</secure>
                <variableID>161081</variableID>
                <value>&lt;![CDATA[show ip flow top-talkers]]&gt;</value>
            </ConstantVariable>
            <ConstantVariable>
                <automatonID>16130</automatonID>
                <name>mypercentage</name>
                <secure>false</secure>
                <variableID>161078</variableID>
                <value>&lt;![CDATA[0]]&gt;</value>
            </ConstantVariable>
            <ConstantVariable>
                <automatonID>16130</automatonID>
                <name>component_output</name>
                <secure>false</secure>
                <variableID>161077</variableID>
                <value>&lt;![CDATA[tbd]]&gt;</value>
            </ConstantVariable>
            <ConstantVariable>
                <automatonID>16130</automatonID>
                <name>temppwd</name>
                <secure>true</secure>
                <variableID>161080</variableID>
                <value>&lt;![CDATA[0vO8u1FiMf5M5mSwinvB+Q==]]&gt;</value>
            </ConstantVariable>
            <ConstantVariable>
                <automatonID>16130</automatonID>
                <name>endpoint_username2</name>
                <secure>false</secure>
                <variableID>161079</variableID>
                <value>&lt;![CDATA[tbkipat1]]&gt;</value>
            </ConstantVariable>
            <ConstantVariable>
                <automatonID>16130</automatonID>
                <name>connect_error</name>
                <secure>false</secure>
                <variableID>161083</variableID>
                <value>&lt;![CDATA[tbd]]&gt;</value>
            </ConstantVariable>
            <ConstantVariable>
                <automatonID>16130</automatonID>
                <name>showintcmd</name>
                <secure>false</secure>
                <variableID>161082</variableID>
                <value>&lt;![CDATA[show int ${intout} | in line|BW|rate]]&gt;</value>
            </ConstantVariable>
        </ConstantVariables>
        <FormVariables/>
        <RegexExtractVariables>
            <RegexExtractVariable>
                <automatonID>16130</automatonID>
                <name>top_talkers</name>
                <secure>false</secure>
                <variableID>161076</variableID>
                <actionID>214659</actionID>
                <field>OUT</field>
            </RegexExtractVariable>
        </RegexExtractVariables>
        <RuntimeVariables/>
        <ScriptExtractVariables/>
        <Connections>
            <Connection>
                <name>affected_host</name>
                <connectionClientCode>tbk</connectionClientCode>
                <connectionProtocol>SSH</connectionProtocol>
                <connectionHost>198.18.125.34</connectionHost>
                <backupConnectionClientCode>tbk</backupConnectionClientCode>
                <backupConnectionHost>198.18.125.35</backupConnectionHost>
                <backupConnectionProtocol>SSH</backupConnectionProtocol>
            </Connection>
        </Connections>
        <CMDBAssociateActions/>
        <CMDBQueryActions/>
        <EditVariableActions>
            <EditVariableAction>
                <actionID>214660</actionID>
                <RegexExtractVariableIDs/>
                <ScriptExtractVariableIDs/>
                <stateID>261769</stateID>
                <refresh>false</refresh>
                <script>component_output = "\n";
component_output += "Please find the top-talkers data for the device below:\n";
component_output += top_talkers;
component_output += "\n\nFurther investigation is required..\n";
component_output;
</script>
                <EditVariableTransforms/>
                <variableID>161077</variableID>
            </EditVariableAction>
        </EditVariableActions>
        <EmailActions>
            <EmailAction>
                <actionID>214652</actionID>
                <RegexExtractVariableIDs/>
                <ScriptExtractVariableIDs/>
                <stateID>261778</stateID>
                <body>${connect_error}
${endpoint_username2}
${temppwd}
${mypercentage}
${showintcmd}
${showipflow}
${component_output}</body>
                <from>@</from>
                <subject>@</subject>
                <to>@</to>
            </EmailAction>
        </EmailActions>
        <FormActions/>
        <HostCommandActions>
            <HostCommandAction>
                <actionID>214655</actionID>
                <RegexExtractVariableIDs/>
                <ScriptExtractVariableIDs/>
                <stateID>261774</stateID>
                <command>ip flow-top-talkers</command>
                <connectionName>affected_host</connectionName>
                <hardTimeoutSeconds>60</hardTimeoutSeconds>
                <resetPrompt>false</resetPrompt>
                <secureStderr>false</secureStderr>
                <secureStdout>false</secureStdout>
                <timeoutSeconds>5</timeoutSeconds>
                <trim>false</trim>
            </HostCommandAction>
            <HostCommandAction>
                <actionID>214659</actionID>
                <RegexExtractVariableIDs>
                    <RegexExtractVariableID>161076</RegexExtractVariableID>
                </RegexExtractVariableIDs>
                <ScriptExtractVariableIDs/>
                <stateID>261770</stateID>
                <command>show ip flow top-talkers</command>
                <connectionName>affected_host</connectionName>
                <hardTimeoutSeconds>60</hardTimeoutSeconds>
                <resetPrompt>false</resetPrompt>
                <secureStderr>false</secureStderr>
                <secureStdout>false</secureStdout>
                <timeoutSeconds>10</timeoutSeconds>
                <trim>true</trim>
            </HostCommandAction>
            <HostCommandAction>
                <actionID>214658</actionID>
                <RegexExtractVariableIDs/>
                <ScriptExtractVariableIDs/>
                <stateID>261771</stateID>
                <command>end</command>
                <connectionName>affected_host</connectionName>
                <hardTimeoutSeconds>60</hardTimeoutSeconds>
                <resetPrompt>false</resetPrompt>
                <secureStderr>false</secureStderr>
                <secureStdout>false</secureStdout>
                <timeoutSeconds>5</timeoutSeconds>
                <trim>false</trim>
            </HostCommandAction>
            <HostCommandAction>
                <actionID>214653</actionID>
                <RegexExtractVariableIDs/>
                <ScriptExtractVariableIDs/>
                <stateID>261776</stateID>
                <command>terminal length 0</command>
                <connectionName>affected_host</connectionName>
                <hardTimeoutSeconds>60</hardTimeoutSeconds>
                <resetPrompt>false</resetPrompt>
                <secureStderr>false</secureStderr>
                <secureStdout>false</secureStdout>
                <timeoutSeconds>30</timeoutSeconds>
                <trim>true</trim>
            </HostCommandAction>
            <HostCommandAction>
                <actionID>214654</actionID>
                <RegexExtractVariableIDs/>
                <ScriptExtractVariableIDs/>
                <stateID>261775</stateID>
                <command>config term</command>
                <connectionName>affected_host</connectionName>
                <hardTimeoutSeconds>60</hardTimeoutSeconds>
                <resetPrompt>false</resetPrompt>
                <secureStderr>false</secureStderr>
                <secureStdout>false</secureStdout>
                <timeoutSeconds>5</timeoutSeconds>
                <trim>false</trim>
            </HostCommandAction>
            <HostCommandAction>
                <actionID>214656</actionID>
                <RegexExtractVariableIDs/>
                <ScriptExtractVariableIDs/>
                <stateID>261773</stateID>
                <command>top 10</command>
                <connectionName>affected_host</connectionName>
                <hardTimeoutSeconds>60</hardTimeoutSeconds>
                <resetPrompt>false</resetPrompt>
                <secureStderr>false</secureStderr>
                <secureStdout>false</secureStdout>
                <timeoutSeconds>5</timeoutSeconds>
                <trim>false</trim>
            </HostCommandAction>
            <HostCommandAction>
                <actionID>214657</actionID>
                <RegexExtractVariableIDs/>
                <ScriptExtractVariableIDs/>
                <stateID>261772</stateID>
                <command>sort-by bytes</command>
                <connectionName>affected_host</connectionName>
                <hardTimeoutSeconds>60</hardTimeoutSeconds>
                <resetPrompt>false</resetPrompt>
                <secureStderr>false</secureStderr>
                <secureStdout>false</secureStdout>
                <timeoutSeconds>5</timeoutSeconds>
                <trim>false</trim>
            </HostCommandAction>
        </HostCommandActions>
        <LinkActions/>
        <LockTicketActions/>
        <RfcActions/>
        <ScriptActions>
            <ScriptAction>
                <actionID>214661</actionID>
                <RegexExtractVariableIDs/>
                <ScriptExtractVariableIDs/>
                <stateID>261768</stateID>
                <script>var old = execution.getPurpose();
execution.setPurpose("DIAGNOSIS");
"Change Execution Purpose from " + old + " to " + execution.getPurpose();</script>
            </ScriptAction>
        </ScriptActions>
        <WaitForRecoveryIPmonActions/>
        <GenericTicketEventWaitActions/>
        <AckProblemIPmonActions/>
        <CancelDowntimeIPmonActions/>
        <ExecuteCheckIPmonActions/>
        <ScheduleDowntimeIPmonActions/>
        <PhoneCallActions/>
        <TimedWaitActions/>
        <UpdateTicketActions/>
        <SubmitPassiveIPmonActionDetails/>
        <HttpRequestActions/>
        <IPdiscoverActions/>
        <ExecuteIPadminActions/>
        <SQLCommandActions/>
        <NotifyActions/>
        <ForkStates/>
        <FormStates/>
        <JoinStates/>
        <LinkStates/>
        <NoopStates>
            <NoopState>
                <name>Begin</name>
                <originalID>267876</originalID>
                <stateID>261777</stateID>
                <XPos>151</XPos>
                <YPos>245</YPos>
            </NoopState>
        </NoopStates>
        <NormalStates>
            <NormalState>
                <actionID>214655</actionID>
                <name>ip flow</name>
                <originalID>849</originalID>
                <stateID>261774</stateID>
                <XPos>593</XPos>
                <YPos>246</YPos>
            </NormalState>
            <NormalState>
                <actionID>214659</actionID>
                <name>toptalkerslist</name>
                <originalID>849</originalID>
                <stateID>261770</stateID>
                <XPos>146</XPos>
                <YPos>367</YPos>
            </NormalState>
            <NormalState>
                <actionID>214658</actionID>
                <name>endconfigmode</name>
                <originalID>849</originalID>
                <stateID>261771</stateID>
                <XPos>289</XPos>
                <YPos>366</YPos>
            </NormalState>
            <NormalState>
                <actionID>214660</actionID>
                <name>edit compout</name>
                <originalID>176390</originalID>
                <stateID>261769</stateID>
                <XPos>145</XPos>
                <YPos>471</YPos>
            </NormalState>
            <NormalState>
                <actionID>214661</actionID>
                <name>Change Execution Purpose - DIAGNOSIS</name>
                <notes>Change Execution Purpose</notes>
                <originalID>1336492</originalID>
                <stateID>261768</stateID>
                <XPos>318</XPos>
                <YPos>472</YPos>
            </NormalState>
            <NormalState>
                <actionID>214653</actionID>
                <name>termlen</name>
                <originalID>848</originalID>
                <stateID>261776</stateID>
                <XPos>288</XPos>
                <YPos>244</YPos>
            </NormalState>
            <NormalState>
                <actionID>214654</actionID>
                <name>conf_term</name>
                <originalID>849</originalID>
                <stateID>261775</stateID>
                <XPos>450</XPos>
                <YPos>245</YPos>
            </NormalState>
            <NormalState>
                <actionID>214656</actionID>
                <name>top_10</name>
                <originalID>849</originalID>
                <stateID>261773</stateID>
                <XPos>594</XPos>
                <YPos>370</YPos>
            </NormalState>
            <NormalState>
                <actionID>214652</actionID>
                <name>Declare Variables</name>
                <originalID>268701</originalID>
                <stateID>261778</stateID>
                <XPos>152</XPos>
                <YPos>142</YPos>
            </NormalState>
            <NormalState>
                <actionID>214657</actionID>
                <name>sort_by_bytes</name>
                <originalID>849</originalID>
                <stateID>261772</stateID>
                <XPos>446</XPos>
                <YPos>369</YPos>
            </NormalState>
        </NormalStates>
        <SuccessStates>
            <SuccessState>
                <name>Automata being Escalated</name>
                <originalID>850</originalID>
                <stateID>261767</stateID>
                <XPos>593</XPos>
                <YPos>470</YPos>
            </SuccessState>
        </SuccessStates>
        <WaitStates/>
        <Transitions>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>false</completeMatch>
                    <evaluatorType>OUTPUT</evaluatorType>
                    <expression>\Q#\E</expression>
                    <negate>false</negate>
                    <outputField>OUT</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>311,244:321,244:321,245:321,245:419,245:429,245</connectorLayout>
                <fromStateID>261776</fromStateID>
                <labelLayout>0:-1:3:59</labelLayout>
                <name>OUTPUT</name>
                <toStateID>261775</toStateID>
                <transitionID>290297</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>true</completeMatch>
                    <evaluatorType>ALWAYS</evaluatorType>
                    <negate>true</negate>
                    <outputField>RET</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>151,229:151,219:152,219:152,219:152,168:152,158</connectorLayout>
                <fromStateID>261777</fromStateID>
                <labelLayout>0:0:3:50</labelLayout>
                <name>Never</name>
                <toStateID>261778</toStateID>
                <transitionID>290295</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>true</completeMatch>
                    <evaluatorType>ALWAYS</evaluatorType>
                    <negate>false</negate>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>593,262:593,272:594,272:594,272:594,344:594,354</connectorLayout>
                <fromStateID>261774</fromStateID>
                <labelLayout>0:-2:3:48</labelLayout>
                <name>OUTPUT</name>
                <toStateID>261773</toStateID>
                <transitionID>290299</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>true</completeMatch>
                    <evaluatorType>OUTPUT</evaluatorType>
                    <expression>0</expression>
                    <negate>false</negate>
                    <outputField>RET</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>340,472:350,472:350,470:350,470:561,470:571,470</connectorLayout>
                <fromStateID>261768</fromStateID>
                <labelLayout>-2:0:3:18</labelLayout>
                <name>ok</name>
                <toStateID>261767</toStateID>
                <transitionID>290305</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>true</completeMatch>
                    <evaluatorType>ALWAYS</evaluatorType>
                    <negate>false</negate>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>424,369:414,369:414,366:414,366:322,366:312,366</connectorLayout>
                <fromStateID>261772</fromStateID>
                <labelLayout>0:-24:3:55</labelLayout>
                <name>OUTPUT</name>
                <toStateID>261771</toStateID>
                <transitionID>290301</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>true</completeMatch>
                    <evaluatorType>ALWAYS</evaluatorType>
                    <negate>false</negate>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>267,366:257,366:257,366:257,366:178,366:168,366</connectorLayout>
                <fromStateID>261771</fromStateID>
                <labelLayout>0:0:3:50</labelLayout>
                <name>OUTPUT</name>
                <toStateID>261770</toStateID>
                <transitionID>290302</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>true</completeMatch>
                    <evaluatorType>ALWAYS</evaluatorType>
                    <negate>false</negate>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>473,245:483,245:483,246:483,246:561,246:571,246</connectorLayout>
                <fromStateID>261775</fromStateID>
                <labelLayout>0:3:3:42</labelLayout>
                <name>OUTPUT</name>
                <toStateID>261774</toStateID>
                <transitionID>290298</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>true</completeMatch>
                    <evaluatorType>ALWAYS</evaluatorType>
                    <negate>false</negate>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>572,370:562,370:555,370:555,369:478,369:468,369</connectorLayout>
                <fromStateID>261773</fromStateID>
                <labelLayout>0:0:3:50</labelLayout>
                <name>OUTPUT</name>
                <toStateID>261772</toStateID>
                <transitionID>290300</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>false</completeMatch>
                    <evaluatorType>OUTPUT</evaluatorType>
                    <expression>\Q#\E</expression>
                    <negate>false</negate>
                    <outputField>OUT</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>146,383:146,393:145,393:145,393:145,446:145,456</connectorLayout>
                <fromStateID>261770</fromStateID>
                <labelLayout>2:0:3:70</labelLayout>
                <name>OUTPUT</name>
                <toStateID>261769</toStateID>
                <transitionID>290303</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>true</completeMatch>
                    <evaluatorType>ALWAYS</evaluatorType>
                    <negate>false</negate>
                    <outputField>RET</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>174,245:184,245:184,244:184,244:256,244:266,244</connectorLayout>
                <fromStateID>261777</fromStateID>
                <labelLayout>0:0:3:50</labelLayout>
                <name>ALWAYS</name>
                <toStateID>261776</toStateID>
                <transitionID>290296</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>true</completeMatch>
                    <evaluatorType>OUTPUT</evaluatorType>
                    <expression>0</expression>
                    <negate>false</negate>
                    <outputField>RET</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>167,471:177,471:177,472:177,472:286,472:296,472</connectorLayout>
                <fromStateID>261769</fromStateID>
                <labelLayout>0:0:3:50</labelLayout>
                <name>ok</name>
                <toStateID>261768</toStateID>
                <transitionID>290304</transitionID>
            </Transition>
        </Transitions>
        <TicketMatchers/>
        <Tags/>
    </automaton>
    <timeOfExport>2017-06-28T07:39:08.655Z</timeOfExport>
</automatonExport>
