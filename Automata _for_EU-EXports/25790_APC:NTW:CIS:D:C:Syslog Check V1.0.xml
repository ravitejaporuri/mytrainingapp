<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<automatonExport>
    <automaton>
        <approvalNotes>DefectDevops#https://hub.jazz.net/ccm06/resource/itemName/com.ibm.team.workitem.WorkItem/32428</approvalNotes>
        <approvalStatus>APPROVED</approvalStatus>
        <automaticDelaySeconds>60</automaticDelaySeconds>
        <created>2015-11-03T12:17:12Z</created>
        <Category>
            <categoryID>1305</categoryID>
            <clientID>36</clientID>
            <name>Diagnosis</name>
            <parent>
                <categoryID>1303</categoryID>
                <clientID>36</clientID>
                <name>Components</name>
                <parent>
                    <categoryID>438</categoryID>
                    <clientID>36</clientID>
                    <name>Network Management</name>
                </parent>
            </parent>
        </Category>
        <automatonID>25790</automatonID>
        <executionMode>MANUAL</executionMode>
        <isLive>true</isLive>
        <isMasterTicketOnly>true</isMasterTicketOnly>
        <matchType>AND</matchType>
        <modified>2016-04-12T11:02:10Z</modified>
        <name>APC:NTW:CIS:D:C:Syslog Check V1.0</name>
        <notes>Automata checks for Logging enabled over Syslog server or not for the network devices</notes>
        <purpose>DIAGNOSIS</purpose>
        <newExecutionThrottleCount>0</newExecutionThrottleCount>
        <newExecutionThrottlePeriodSeconds>0</newExecutionThrottlePeriodSeconds>
        <engineerTimeToDiagnose>0</engineerTimeToDiagnose>
        <engineerTimeToRemediate>0</engineerTimeToRemediate>
        <ConstantVariables>
            <ConstantVariable>
                <automatonID>25790</automatonID>
                <name>component_output</name>
                <secure>false</secure>
                <variableID>276095</variableID>
                <value>&lt;![CDATA[tbd]]&gt;</value>
            </ConstantVariable>
            <ConstantVariable>
                <automatonID>25790</automatonID>
                <name>affected_host</name>
                <secure>false</secure>
                <variableID>276097</variableID>
                <value>&lt;![CDATA[198.18.125.30]]&gt;</value>
            </ConstantVariable>
        </ConstantVariables>
        <FormVariables/>
        <RegexExtractVariables>
            <RegexExtractVariable>
                <automatonID>25790</automatonID>
                <name>log_out</name>
                <secure>false</secure>
                <variableID>276096</variableID>
                <actionID>364990</actionID>
                <field>OUT</field>
            </RegexExtractVariable>
        </RegexExtractVariables>
        <RuntimeVariables/>
        <ScriptExtractVariables/>
        <Connections>
            <Connection>
                <name>affected_host</name>
                <hostOverrideVar>affected_host</hostOverrideVar>
                <ipmonOverrideVar></ipmonOverrideVar>
                <connectionClientCode>apc</connectionClientCode>
                <connectionProtocol>SSH</connectionProtocol>
                <connectionHost>198.18.125.30</connectionHost>
            </Connection>
        </Connections>
        <CMDBAssociateActions/>
        <CMDBQueryActions/>
        <EditVariableActions>
            <EditVariableAction>
                <actionID>364987</actionID>
                <RegexExtractVariableIDs/>
                <ScriptExtractVariableIDs/>
                <stateID>442513</stateID>
                <refresh>false</refresh>
                <script>component_output="\n" + affected_host + ',' + "Yes";
component_output;</script>
                <EditVariableTransforms/>
                <variableID>276095</variableID>
            </EditVariableAction>
            <EditVariableAction>
                <actionID>364986</actionID>
                <RegexExtractVariableIDs/>
                <ScriptExtractVariableIDs/>
                <stateID>442510</stateID>
                <refresh>false</refresh>
                <script>component_output="\n" + affected_host + ',' + "No";
component_output;</script>
                <EditVariableTransforms/>
                <variableID>276095</variableID>
            </EditVariableAction>
            <EditVariableAction>
                <actionID>364988</actionID>
                <RegexExtractVariableIDs/>
                <ScriptExtractVariableIDs/>
                <stateID>442508</stateID>
                <refresh>false</refresh>
                <script>component_output="\n" + affected_host + ',' + "FAILED,Enable command execution timed out.";
component_output;</script>
                <EditVariableTransforms/>
                <variableID>276095</variableID>
            </EditVariableAction>
        </EditVariableActions>
        <EmailActions>
            <EmailAction>
                <actionID>364985</actionID>
                <RegexExtractVariableIDs/>
                <ScriptExtractVariableIDs/>
                <stateID>442507</stateID>
                <body>${component_output}</body>
                <from>@</from>
                <subject>@</subject>
                <to>@</to>
            </EmailAction>
        </EmailActions>
        <FormActions/>
        <HostCommandActions>
            <HostCommandAction>
                <actionID>364990</actionID>
                <RegexExtractVariableIDs>
                    <RegexExtractVariableID>276096</RegexExtractVariableID>
                </RegexExtractVariableIDs>
                <ScriptExtractVariableIDs/>
                <stateID>442504</stateID>
                <command>show run | include logging</command>
                <connectionName>affected_host</connectionName>
                <hardTimeoutSeconds>60</hardTimeoutSeconds>
                <resetPrompt>false</resetPrompt>
                <secureStderr>false</secureStderr>
                <secureStdout>false</secureStdout>
                <timeoutSeconds>5</timeoutSeconds>
                <trim>true</trim>
            </HostCommandAction>
            <HostCommandAction>
                <actionID>364989</actionID>
                <RegexExtractVariableIDs/>
                <ScriptExtractVariableIDs/>
                <stateID>442505</stateID>
                <command>enable</command>
                <connectionName>affected_host</connectionName>
                <hardTimeoutSeconds>60</hardTimeoutSeconds>
                <resetPrompt>false</resetPrompt>
                <secureStderr>false</secureStderr>
                <secureStdout>false</secureStdout>
                <timeoutSeconds>10</timeoutSeconds>
                <trim>true</trim>
            </HostCommandAction>
        </HostCommandActions>
        <LinkActions/>
        <LockTicketActions/>
        <RfcActions/>
        <ScriptActions/>
        <WaitForRecoveryIPmonActions/>
        <GenericTicketEventWaitActions/>
        <AckProblemIPmonActions/>
        <CancelDowntimeIPmonActions/>
        <ExecuteCheckIPmonActions/>
        <ScheduleDowntimeIPmonActions/>
        <PhoneCallActions/>
        <TimedWaitActions/>
        <UpdateTicketActions/>
        <SubmitPassiveIPmonActionDetails/>
        <HttpRequestActions/>
        <IPdiscoverActions/>
        <ExecuteIPadminActions/>
        <SQLCommandActions/>
        <NotifyActions/>
        <ForkStates/>
        <FormStates/>
        <JoinStates/>
        <LinkStates/>
        <NoopStates>
            <NoopState>
                <name>Noop</name>
                <originalID>255800</originalID>
                <stateID>442512</stateID>
                <XPos>747</XPos>
                <YPos>120</YPos>
            </NoopState>
            <NoopState>
                <name>checked syslog server2</name>
                <originalID>255810</originalID>
                <stateID>442514</stateID>
                <XPos>447</XPos>
                <YPos>360</YPos>
            </NoopState>
            <NoopState>
                <name>Start</name>
                <originalID>255803</originalID>
                <stateID>442506</stateID>
                <XPos>186</XPos>
                <YPos>118</YPos>
            </NoopState>
            <NoopState>
                <name>Noop</name>
                <originalID>255806</originalID>
                <stateID>442511</stateID>
                <XPos>747</XPos>
                <YPos>232</YPos>
            </NoopState>
            <NoopState>
                <name>check syslog server1</name>
                <originalID>255805</originalID>
                <stateID>442503</stateID>
                <XPos>447</XPos>
                <YPos>232</YPos>
            </NoopState>
        </NoopStates>
        <NormalStates>
            <NormalState>
                <actionID>364987</actionID>
                <name>Edit success comp out</name>
                <originalID>255809</originalID>
                <stateID>442513</stateID>
                <XPos>447</XPos>
                <YPos>490</YPos>
            </NormalState>
            <NormalState>
                <actionID>364990</actionID>
                <name>Check syslog</name>
                <originalID>255801</originalID>
                <stateID>442504</stateID>
                <XPos>444</XPos>
                <YPos>120</YPos>
            </NormalState>
            <NormalState>
                <actionID>364986</actionID>
                <name>Edit failure comp out</name>
                <originalID>255807</originalID>
                <stateID>442510</stateID>
                <XPos>746</XPos>
                <YPos>362</YPos>
            </NormalState>
            <NormalState>
                <actionID>364985</actionID>
                <name>DeclareVariables</name>
                <originalID>255804</originalID>
                <stateID>442507</stateID>
                <XPos>31</XPos>
                <YPos>118</YPos>
            </NormalState>
            <NormalState>
                <actionID>364988</actionID>
                <name>edit enable failed</name>
                <originalID>442169</originalID>
                <stateID>442508</stateID>
                <XPos>313</XPos>
                <YPos>599</YPos>
            </NormalState>
            <NormalState>
                <actionID>364989</actionID>
                <name>enable</name>
                <originalID>255802</originalID>
                <stateID>442505</stateID>
                <XPos>315</XPos>
                <YPos>119</YPos>
            </NormalState>
        </NormalStates>
        <SuccessStates>
            <SuccessState>
                <name>Success</name>
                <originalID>255808</originalID>
                <stateID>442509</stateID>
                <XPos>745</XPos>
                <YPos>491</YPos>
            </SuccessState>
        </SuccessStates>
        <WaitStates/>
        <Transitions>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>true</completeMatch>
                    <evaluatorType>ALWAYS</evaluatorType>
                    <negate>false</negate>
                    <outputField>RET</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>209,118:219,118:219,118:219,118:284,118:294,118</connectorLayout>
                <fromStateID>442506</fromStateID>
                <labelLayout>0:0:3:50</labelLayout>
                <name>ok</name>
                <toStateID>442505</toStateID>
                <transitionID>494908</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>true</completeMatch>
                    <evaluatorType>ALWAYS</evaluatorType>
                    <negate>false</negate>
                    <outputField>RET</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>747,136:747,146:747,146:747,146:747,206:747,216</connectorLayout>
                <fromStateID>442512</fromStateID>
                <labelLayout>0:0:3:50</labelLayout>
                <name>ok</name>
                <toStateID>442511</toStateID>
                <transitionID>494910</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>true</completeMatch>
                    <evaluatorType>ALWAYS</evaluatorType>
                    <negate>false</negate>
                    <outputField>RET</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>447,376:447,386:447,386:447,386:447,465:447,475</connectorLayout>
                <fromStateID>442514</fromStateID>
                <labelLayout>3:0:3:58</labelLayout>
                <name>ok</name>
                <toStateID>442513</toStateID>
                <transitionID>494915</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>false</completeMatch>
                    <evaluatorType>VARIABLE</evaluatorType>
                    <expression>.*logging 10.129.10.23.*</expression>
                    <negate>false</negate>
                    <variableID>276096</variableID>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>444,135:444,145:447,145:447,145:447,206:447,216</connectorLayout>
                <fromStateID>442504</fromStateID>
                <labelLayout>0:0:3:71</labelLayout>
                <name>Logging server check 1</name>
                <toStateID>442503</toStateID>
                <transitionID>494920</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>true</completeMatch>
                    <evaluatorType>ALWAYS</evaluatorType>
                    <negate>false</negate>
                    <outputField>RET</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>747,248:747,258:746,258:746,258:746,337:746,347</connectorLayout>
                <fromStateID>442511</fromStateID>
                <labelLayout>1:0:3:58</labelLayout>
                <name>ok</name>
                <toStateID>442510</toStateID>
                <transitionID>494912</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>false</completeMatch>
                    <evaluatorType>OUTPUT</evaluatorType>
                    <expression>.*(\Q#\E|\Q&gt;\E)</expression>
                    <negate>true</negate>
                    <outputField>OUT</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>315,135:315,145:312,145:312,145:312,573:312,583</connectorLayout>
                <fromStateID>442505</fromStateID>
                <labelLayout>0:0:3:50</labelLayout>
                <name>not ok</name>
                <toStateID>442508</toStateID>
                <transitionID>494918</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>false</completeMatch>
                    <evaluatorType>VARIABLE</evaluatorType>
                    <expression>.*logging 10.129.10.23.*</expression>
                    <negate>true</negate>
                    <variableID>276096</variableID>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>467,120:477,120:477,120:477,120:714,120:724,120</connectorLayout>
                <fromStateID>442504</fromStateID>
                <labelLayout>0:0:3:52</labelLayout>
                <name>Logging for server 1 not enabled</name>
                <toStateID>442512</toStateID>
                <transitionID>494909</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>false</completeMatch>
                    <evaluatorType>VARIABLE</evaluatorType>
                    <expression>.*logging 10.129.10.24.*</expression>
                    <negate>false</negate>
                    <variableID>276096</variableID>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>447,248:447,258:447,258:447,258:447,335:447,345</connectorLayout>
                <fromStateID>442503</fromStateID>
                <labelLayout>0:0:3:50</labelLayout>
                <name>Logging server check 2</name>
                <toStateID>442514</toStateID>
                <transitionID>494914</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>true</completeMatch>
                    <evaluatorType>OUTPUT</evaluatorType>
                    <expression>0</expression>
                    <negate>false</negate>
                    <outputField>RET</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>746,378:746,388:745,388:745,388:745,465:745,475</connectorLayout>
                <fromStateID>442510</fromStateID>
                <labelLayout>2:0:3:57</labelLayout>
                <name>ok</name>
                <toStateID>442509</toStateID>
                <transitionID>494913</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>false</completeMatch>
                    <evaluatorType>OUTPUT</evaluatorType>
                    <expression>.*(\Q#\E|\Q&gt;\E)</expression>
                    <negate>false</negate>
                    <outputField>OUT</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>338,119:348,119:348,119:348,119:412,119:422,119</connectorLayout>
                <fromStateID>442505</fromStateID>
                <labelLayout>0:0:3:50</labelLayout>
                <name>ok</name>
                <toStateID>442504</toStateID>
                <transitionID>494919</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>true</completeMatch>
                    <evaluatorType>OUTPUT</evaluatorType>
                    <expression>0</expression>
                    <negate>false</negate>
                    <outputField>RET</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>469,490:479,490:479,491:479,491:713,491:723,491</connectorLayout>
                <fromStateID>442513</fromStateID>
                <labelLayout>0:0:3:12</labelLayout>
                <name>ok</name>
                <toStateID>442509</toStateID>
                <transitionID>494916</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>false</completeMatch>
                    <evaluatorType>VARIABLE</evaluatorType>
                    <expression>.*logging 10.129.10.24.*</expression>
                    <negate>true</negate>
                    <variableID>276096</variableID>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>470,232:480,232:480,232:480,232:715,232:725,232</connectorLayout>
                <fromStateID>442503</fromStateID>
                <labelLayout>0:0:3:50</labelLayout>
                <name>Logging for server 2 not enabled</name>
                <toStateID>442511</toStateID>
                <transitionID>494911</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>true</completeMatch>
                    <evaluatorType>ALWAYS</evaluatorType>
                    <negate>true</negate>
                    <outputField>RET</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>164,118:154,118:154,118:154,118:64,118:54,118</connectorLayout>
                <fromStateID>442506</fromStateID>
                <labelLayout>0:0:3:50</labelLayout>
                <name>never</name>
                <toStateID>442507</toStateID>
                <transitionID>494907</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>true</completeMatch>
                    <evaluatorType>OUTPUT</evaluatorType>
                    <expression>0</expression>
                    <negate>false</negate>
                    <outputField>RET</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>335,599:345,599:642,599:642,491:713,491:723,491</connectorLayout>
                <fromStateID>442508</fromStateID>
                <labelLayout>-10:0:2:26</labelLayout>
                <name>ok</name>
                <toStateID>442509</toStateID>
                <transitionID>494917</transitionID>
            </Transition>
        </Transitions>
        <TicketMatchers/>
        <Tags/>
    </automaton>
    <timeOfExport>2017-06-28T07:33:14.631Z</timeOfExport>
</automatonExport>
