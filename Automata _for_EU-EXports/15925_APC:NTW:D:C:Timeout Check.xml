<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<automatonExport>
    <automaton>
        <approvalStatus>NONE</approvalStatus>
        <automaticDelaySeconds>60</automaticDelaySeconds>
        <created>2015-11-03T14:11:55Z</created>
        <automatonID>15925</automatonID>
        <executionMode>MANUAL</executionMode>
        <isLive>true</isLive>
        <isMasterTicketOnly>true</isMasterTicketOnly>
        <matchType>AND</matchType>
        <modified>2015-11-04T09:05:46Z</modified>
        <name>APC:NTW:D:C:Timeout Check</name>
        <notes>Automata checks for Timeout enabled or not for the network devices</notes>
        <purpose>DIAGNOSIS</purpose>
        <newExecutionThrottleCount>0</newExecutionThrottleCount>
        <newExecutionThrottlePeriodSeconds>0</newExecutionThrottlePeriodSeconds>
        <engineerTimeToDiagnose>0</engineerTimeToDiagnose>
        <engineerTimeToRemediate>0</engineerTimeToRemediate>
        <ConstantVariables>
            <ConstantVariable>
                <automatonID>15925</automatonID>
                <name>component_output</name>
                <secure>false</secure>
                <variableID>158251</variableID>
                <value>&lt;![CDATA[tbd]]&gt;</value>
            </ConstantVariable>
            <ConstantVariable>
                <automatonID>15925</automatonID>
                <name>affected_host</name>
                <secure>false</secure>
                <variableID>158254</variableID>
                <value>&lt;![CDATA[198.18.125.30]]&gt;</value>
            </ConstantVariable>
        </ConstantVariables>
        <FormVariables/>
        <RegexExtractVariables>
            <RegexExtractVariable>
                <automatonID>15925</automatonID>
                <name>timecnt</name>
                <secure>false</secure>
                <variableID>158249</variableID>
                <actionID>210589</actionID>
                <field>OUT</field>
            </RegexExtractVariable>
            <RegexExtractVariable>
                <automatonID>15925</automatonID>
                <name>line_out</name>
                <notes>to get the count</notes>
                <secure>false</secure>
                <variableID>158252</variableID>
                <actionID>210594</actionID>
                <field>OUT</field>
                <filterPattern>.*^line.*</filterPattern>
                <matchPattern>.*?(line).*</matchPattern>
                <replacePattern>$1</replacePattern>
            </RegexExtractVariable>
            <RegexExtractVariable>
                <automatonID>15925</automatonID>
                <name>time_out</name>
                <secure>false</secure>
                <variableID>158253</variableID>
                <actionID>210594</actionID>
                <field>OUT</field>
                <filterPattern>.*(exec-timeout).*</filterPattern>
                <matchPattern>.*(exec-timeout).*</matchPattern>
                <replacePattern>$1</replacePattern>
            </RegexExtractVariable>
            <RegexExtractVariable>
                <automatonID>15925</automatonID>
                <name>linecnt</name>
                <secure>false</secure>
                <variableID>158250</variableID>
                <actionID>210590</actionID>
                <field>OUT</field>
            </RegexExtractVariable>
        </RegexExtractVariables>
        <RuntimeVariables/>
        <ScriptExtractVariables/>
        <Connections>
            <Connection>
                <name>affected_host</name>
                <hostOverrideVar>affected_host</hostOverrideVar>
                <ipmonOverrideVar></ipmonOverrideVar>
                <connectionClientCode>apc</connectionClientCode>
                <connectionProtocol>SSH</connectionProtocol>
                <connectionHost>198.18.125.30</connectionHost>
            </Connection>
        </Connections>
        <CMDBAssociateActions/>
        <CMDBQueryActions/>
        <EditVariableActions>
            <EditVariableAction>
                <actionID>210596</actionID>
                <RegexExtractVariableIDs/>
                <ScriptExtractVariableIDs/>
                <stateID>256922</stateID>
                <refresh>false</refresh>
                <EditVariableTransforms>
                    <EditVariableTransform>
                        <arguments/>
                        <transformMethodID>29</transformMethodID>
                    </EditVariableTransform>
                </EditVariableTransforms>
                <variableID>158253</variableID>
            </EditVariableAction>
            <EditVariableAction>
                <actionID>210591</actionID>
                <RegexExtractVariableIDs/>
                <ScriptExtractVariableIDs/>
                <stateID>256932</stateID>
                <refresh>false</refresh>
                <script>component_output=affected_host + ",Yes,-\n";
component_output;</script>
                <EditVariableTransforms/>
                <variableID>158251</variableID>
            </EditVariableAction>
            <EditVariableAction>
                <actionID>210595</actionID>
                <RegexExtractVariableIDs/>
                <ScriptExtractVariableIDs/>
                <stateID>256923</stateID>
                <refresh>false</refresh>
                <EditVariableTransforms>
                    <EditVariableTransform>
                        <arguments/>
                        <transformMethodID>29</transformMethodID>
                    </EditVariableTransform>
                </EditVariableTransforms>
                <variableID>158252</variableID>
            </EditVariableAction>
            <EditVariableAction>
                <actionID>210593</actionID>
                <RegexExtractVariableIDs/>
                <ScriptExtractVariableIDs/>
                <stateID>256928</stateID>
                <refresh>false</refresh>
                <script>component_output = affected_host + ',' + "No,-\n";
component_output;</script>
                <EditVariableTransforms/>
                <variableID>158251</variableID>
            </EditVariableAction>
        </EditVariableActions>
        <EmailActions>
            <EmailAction>
                <actionID>210587</actionID>
                <RegexExtractVariableIDs/>
                <ScriptExtractVariableIDs/>
                <stateID>256927</stateID>
                <body>${component_output}</body>
                <from>@</from>
                <subject>@</subject>
                <to>@</to>
            </EmailAction>
        </EmailActions>
        <FormActions/>
        <HostCommandActions>
            <HostCommandAction>
                <actionID>210588</actionID>
                <RegexExtractVariableIDs/>
                <ScriptExtractVariableIDs/>
                <stateID>256925</stateID>
                <command>enable</command>
                <connectionName>affected_host</connectionName>
                <hardTimeoutSeconds>60</hardTimeoutSeconds>
                <resetPrompt>false</resetPrompt>
                <secureStderr>false</secureStderr>
                <secureStdout>false</secureStdout>
                <timeoutSeconds>5</timeoutSeconds>
                <trim>true</trim>
            </HostCommandAction>
            <HostCommandAction>
                <actionID>210594</actionID>
                <RegexExtractVariableIDs>
                    <RegexExtractVariableID>158252</RegexExtractVariableID>
                    <RegexExtractVariableID>158253</RegexExtractVariableID>
                </RegexExtractVariableIDs>
                <ScriptExtractVariableIDs/>
                <stateID>256924</stateID>
                <command>show run | begin line</command>
                <connectionName>affected_host</connectionName>
                <hardTimeoutSeconds>60</hardTimeoutSeconds>
                <resetPrompt>false</resetPrompt>
                <secureStderr>false</secureStderr>
                <secureStdout>false</secureStdout>
                <timeoutSeconds>5</timeoutSeconds>
                <trim>true</trim>
            </HostCommandAction>
        </HostCommandActions>
        <LinkActions/>
        <LockTicketActions/>
        <RfcActions/>
        <ScriptActions>
            <ScriptAction>
                <actionID>210592</actionID>
                <RegexExtractVariableIDs/>
                <ScriptExtractVariableIDs/>
                <stateID>256929</stateID>
                <script>if (parseInt(linecnt)=parseInt(timecnt)){
  ret='Success';
}else{
  ret='Failed'
}</script>
            </ScriptAction>
            <ScriptAction>
                <actionID>210590</actionID>
                <RegexExtractVariableIDs>
                    <RegexExtractVariableID>158250</RegexExtractVariableID>
                </RegexExtractVariableIDs>
                <ScriptExtractVariableIDs/>
                <stateID>256930</stateID>
                <script>var linecnt = line_out.split("\n").length;
linecnt;</script>
            </ScriptAction>
            <ScriptAction>
                <actionID>210589</actionID>
                <RegexExtractVariableIDs>
                    <RegexExtractVariableID>158249</RegexExtractVariableID>
                </RegexExtractVariableIDs>
                <ScriptExtractVariableIDs/>
                <stateID>256931</stateID>
                <script>var timecnt = time_out.split("\n").length;
timecnt;</script>
            </ScriptAction>
        </ScriptActions>
        <WaitForRecoveryIPmonActions/>
        <GenericTicketEventWaitActions/>
        <AckProblemIPmonActions/>
        <CancelDowntimeIPmonActions/>
        <ExecuteCheckIPmonActions/>
        <ScheduleDowntimeIPmonActions/>
        <PhoneCallActions/>
        <TimedWaitActions/>
        <UpdateTicketActions/>
        <SubmitPassiveIPmonActionDetails/>
        <HttpRequestActions/>
        <IPdiscoverActions/>
        <ExecuteIPadminActions/>
        <SQLCommandActions/>
        <NotifyActions/>
        <ForkStates/>
        <FormStates/>
        <JoinStates/>
        <LinkStates/>
        <NoopStates>
            <NoopState>
                <name>Start</name>
                <originalID>255852</originalID>
                <stateID>256926</stateID>
                <XPos>185</XPos>
                <YPos>148</YPos>
            </NoopState>
        </NoopStates>
        <NormalStates>
            <NormalState>
                <actionID>210596</actionID>
                <name>chomp time_out</name>
                <originalID>255848</originalID>
                <stateID>256922</stateID>
                <XPos>319</XPos>
                <YPos>374</YPos>
            </NormalState>
            <NormalState>
                <actionID>210591</actionID>
                <name>Edit success compout</name>
                <originalID>255857</originalID>
                <stateID>256932</stateID>
                <XPos>786</XPos>
                <YPos>284</YPos>
            </NormalState>
            <NormalState>
                <actionID>210592</actionID>
                <name>compare</name>
                <originalID>255855</originalID>
                <stateID>256929</stateID>
                <XPos>631</XPos>
                <YPos>282</YPos>
            </NormalState>
            <NormalState>
                <actionID>210587</actionID>
                <name>Declare Variables</name>
                <originalID>255853</originalID>
                <stateID>256927</stateID>
                <XPos>28</XPos>
                <YPos>148</YPos>
            </NormalState>
            <NormalState>
                <actionID>210595</actionID>
                <name>chomp line_out</name>
                <originalID>255849</originalID>
                <stateID>256923</stateID>
                <XPos>318</XPos>
                <YPos>268</YPos>
            </NormalState>
            <NormalState>
                <actionID>210590</actionID>
                <name>get line count</name>
                <originalID>255856</originalID>
                <stateID>256930</stateID>
                <XPos>630</XPos>
                <YPos>372</YPos>
            </NormalState>
            <NormalState>
                <actionID>210588</actionID>
                <name>enable</name>
                <originalID>255802</originalID>
                <stateID>256925</stateID>
                <XPos>186</XPos>
                <YPos>267</YPos>
            </NormalState>
            <NormalState>
                <actionID>210589</actionID>
                <name>get time count</name>
                <originalID>255847</originalID>
                <stateID>256931</stateID>
                <XPos>483</XPos>
                <YPos>374</YPos>
            </NormalState>
            <NormalState>
                <actionID>210594</actionID>
                <name>check timeout</name>
                <originalID>255850</originalID>
                <stateID>256924</stateID>
                <XPos>317</XPos>
                <YPos>148</YPos>
            </NormalState>
            <NormalState>
                <actionID>210593</actionID>
                <name>edit failure compout</name>
                <originalID>255854</originalID>
                <stateID>256928</stateID>
                <XPos>630</XPos>
                <YPos>148</YPos>
            </NormalState>
        </NormalStates>
        <SuccessStates>
            <SuccessState>
                <name>Success</name>
                <originalID>255858</originalID>
                <stateID>256933</stateID>
                <XPos>787</XPos>
                <YPos>148</YPos>
            </SuccessState>
        </SuccessStates>
        <WaitStates/>
        <Transitions>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>true</completeMatch>
                    <evaluatorType>OUTPUT</evaluatorType>
                    <expression>0</expression>
                    <negate>false</negate>
                    <outputField>RET</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>505,374:515,374:515,373:515,373:598,373:608,373</connectorLayout>
                <fromStateID>256931</fromStateID>
                <labelLayout>0:0:3:50</labelLayout>
                <name>ok</name>
                <toStateID>256930</toStateID>
                <transitionID>284762</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>true</completeMatch>
                    <evaluatorType>OUTPUT</evaluatorType>
                    <expression>Success</expression>
                    <negate>false</negate>
                    <outputField>OUT</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>653,283:663,283:663,284:663,284:754,284:764,284</connectorLayout>
                <fromStateID>256929</fromStateID>
                <labelLayout>2:0:4:46</labelLayout>
                <name>ok</name>
                <toStateID>256932</toStateID>
                <transitionID>284766</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>true</completeMatch>
                    <evaluatorType>OUTPUT</evaluatorType>
                    <expression>0</expression>
                    <negate>false</negate>
                    <outputField>RET</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>630,358:630,348:631,348:631,348:631,308:631,298</connectorLayout>
                <fromStateID>256930</fromStateID>
                <labelLayout>-1:0:3:35</labelLayout>
                <name>ok</name>
                <toStateID>256929</toStateID>
                <transitionID>284763</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>false</completeMatch>
                    <evaluatorType>VARIABLE</evaluatorType>
                    <expression>.*exec.*</expression>
                    <negate>false</negate>
                    <variableID>158253</variableID>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>317,165:317,175:318,175:318,175:318,243:318,253</connectorLayout>
                <fromStateID>256924</fromStateID>
                <labelLayout>1:0:3:59</labelLayout>
                <name>ok</name>
                <toStateID>256923</toStateID>
                <transitionID>284769</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>true</completeMatch>
                    <evaluatorType>OUTPUT</evaluatorType>
                    <expression>0</expression>
                    <negate>false</negate>
                    <outputField>RET</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>318,284:318,294:319,294:319,294:319,350:319,360</connectorLayout>
                <fromStateID>256923</fromStateID>
                <labelLayout>0:0:3:50</labelLayout>
                <name>ok</name>
                <toStateID>256922</toStateID>
                <transitionID>284770</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>true</completeMatch>
                    <evaluatorType>OUTPUT</evaluatorType>
                    <expression>0</expression>
                    <negate>false</negate>
                    <outputField>RET</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>786,269:786,259:786,259:786,259:786,174:786,164</connectorLayout>
                <fromStateID>256932</fromStateID>
                <labelLayout>0:0:4:39</labelLayout>
                <name>ok</name>
                <toStateID>256933</toStateID>
                <transitionID>284765</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>true</completeMatch>
                    <evaluatorType>OUTPUT</evaluatorType>
                    <expression>0</expression>
                    <negate>false</negate>
                    <outputField>RET</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>341,374:351,374:351,374:351,374:451,374:461,374</connectorLayout>
                <fromStateID>256922</fromStateID>
                <labelLayout>-3:0:3:53</labelLayout>
                <name>ok</name>
                <toStateID>256931</toStateID>
                <transitionID>284761</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>false</completeMatch>
                    <evaluatorType>VARIABLE</evaluatorType>
                    <expression>.*exec.*</expression>
                    <negate>true</negate>
                    <variableID>158253</variableID>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>340,148:350,148:350,147:350,147:598,147:608,147</connectorLayout>
                <fromStateID>256924</fromStateID>
                <labelLayout>0:-1:3:45</labelLayout>
                <name>no exec-timeout found</name>
                <toStateID>256928</toStateID>
                <transitionID>284768</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>true</completeMatch>
                    <evaluatorType>OUTPUT</evaluatorType>
                    <expression>Failure</expression>
                    <negate>false</negate>
                    <outputField>OUT</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>631,268:631,258:630,258:630,258:630,174:630,164</connectorLayout>
                <fromStateID>256929</fromStateID>
                <labelLayout>-2:0:3:35</labelLayout>
                <name>not ok</name>
                <toStateID>256928</toStateID>
                <transitionID>284767</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>false</completeMatch>
                    <evaluatorType>OUTPUT</evaluatorType>
                    <expression>.*(\Q#\E|\Q&gt;\E)</expression>
                    <negate>false</negate>
                    <outputField>OUT</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>209,267:219,267:225,267:225,148:285,148:295,148</connectorLayout>
                <fromStateID>256925</fromStateID>
                <labelLayout>0:0:3:50</labelLayout>
                <name>ok</name>
                <toStateID>256924</toStateID>
                <transitionID>284760</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>true</completeMatch>
                    <evaluatorType>ALWAYS</evaluatorType>
                    <negate>false</negate>
                    <outputField>RET</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>185,164:185,174:187,174:187,174:187,241:187,251</connectorLayout>
                <fromStateID>256926</fromStateID>
                <labelLayout>0:0:3:50</labelLayout>
                <name>ok</name>
                <toStateID>256925</toStateID>
                <transitionID>284759</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>true</completeMatch>
                    <evaluatorType>OUTPUT</evaluatorType>
                    <expression>0</expression>
                    <negate>false</negate>
                    <outputField>RET</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>652,148:662,148:662,148:662,148:754,148:764,148</connectorLayout>
                <fromStateID>256928</fromStateID>
                <labelLayout>0:1:3:43</labelLayout>
                <name>ok</name>
                <toStateID>256933</toStateID>
                <transitionID>284764</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>true</completeMatch>
                    <evaluatorType>ALWAYS</evaluatorType>
                    <negate>true</negate>
                    <outputField>RET</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>163,148:153,148:153,148:153,148:61,148:51,148</connectorLayout>
                <fromStateID>256926</fromStateID>
                <labelLayout>0:0:3:50</labelLayout>
                <name>never</name>
                <toStateID>256927</toStateID>
                <transitionID>284758</transitionID>
            </Transition>
        </Transitions>
        <TicketMatchers/>
        <Tags/>
    </automaton>
    <timeOfExport>2017-06-28T11:46:06.723Z</timeOfExport>
</automatonExport>
