<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<automatonExport>
    <automaton>
        <approvalNotes>VLAN Mismatch devops - https://hub.jazz.net/ccm06/resource/itemName/com.ibm.team.workitem.WorkItem/31909&#xD;
ExecLink:https://ipctrprodmel.ipctrmel02.com/IPautomata/executionDetails.htm?executionID=133525</approvalNotes>
        <approvalStatus>APPROVED</approvalStatus>
        <automaticDelaySeconds>60</automaticDelaySeconds>
        <created>2016-02-26T08:32:49Z</created>
        <Category>
            <categoryID>1416</categoryID>
            <clientID>21</clientID>
            <name>Diagnostic</name>
            <parent>
                <categoryID>1350</categoryID>
                <clientID>21</clientID>
                <name>Components</name>
                <parent>
                    <categoryID>47</categoryID>
                    <clientID>21</clientID>
                    <name>Network Management</name>
                </parent>
            </parent>
        </Category>
        <automatonID>23596</automatonID>
        <executionMode>MANUAL</executionMode>
        <isLive>true</isLive>
        <isMasterTicketOnly>true</isMasterTicketOnly>
        <matchType>AND</matchType>
        <modified>2016-03-18T12:08:16Z</modified>
        <name>SIA:NTW:CIS:D:C:VLAN Mismatch V1.0</name>
        <purpose>DIAGNOSIS</purpose>
        <newExecutionThrottleCount>0</newExecutionThrottleCount>
        <newExecutionThrottlePeriodSeconds>0</newExecutionThrottlePeriodSeconds>
        <engineerTimeToDiagnose>0</engineerTimeToDiagnose>
        <engineerTimeToRemediate>0</engineerTimeToRemediate>
        <ConstantVariables>
            <ConstantVariable>
                <automatonID>23596</automatonID>
                <name>hostname1_from_event</name>
                <secure>false</secure>
                <variableID>251434</variableID>
                <value>&lt;![CDATA[tbd]]&gt;</value>
            </ConstantVariable>
            <ConstantVariable>
                <automatonID>23596</automatonID>
                <name>hostname</name>
                <secure>false</secure>
                <variableID>251433</variableID>
                <value>&lt;![CDATA[TBD]]&gt;</value>
            </ConstantVariable>
            <ConstantVariable>
                <automatonID>23596</automatonID>
                <name>component_output</name>
                <secure>false</secure>
                <variableID>251428</variableID>
                <value>&lt;![CDATA[tbd]]&gt;</value>
            </ConstantVariable>
            <ConstantVariable>
                <automatonID>23596</automatonID>
                <name>interface_name</name>
                <secure>false</secure>
                <variableID>251432</variableID>
                <value>&lt;![CDATA[tbd]]&gt;</value>
            </ConstantVariable>
        </ConstantVariables>
        <FormVariables/>
        <RegexExtractVariables>
            <RegexExtractVariable>
                <automatonID>23596</automatonID>
                <name>show_vlan_output</name>
                <secure>false</secure>
                <variableID>251429</variableID>
                <actionID>333286</actionID>
                <field>OUT</field>
            </RegexExtractVariable>
            <RegexExtractVariable>
                <automatonID>23596</automatonID>
                <name>show_output</name>
                <secure>false</secure>
                <variableID>251430</variableID>
                <actionID>333287</actionID>
                <field>OUT</field>
            </RegexExtractVariable>
            <RegexExtractVariable>
                <automatonID>23596</automatonID>
                <name>show_config_output</name>
                <secure>false</secure>
                <variableID>251431</variableID>
                <actionID>333288</actionID>
                <field>OUT</field>
            </RegexExtractVariable>
        </RegexExtractVariables>
        <RuntimeVariables/>
        <ScriptExtractVariables/>
        <Connections>
            <Connection>
                <name>affected_host</name>
                <connectionName>sia_jb_conn1_of_2</connectionName>
                <connectionClientCode>sia</connectionClientCode>
                <connectionProtocol>SSH</connectionProtocol>
                <connectionHost>198.18.125.9</connectionHost>
                <backupConnectionName>sia_jb_conn2_of_2</backupConnectionName>
                <backupConnectionClientCode>sia</backupConnectionClientCode>
                <backupConnectionHost>198.18.125.64</backupConnectionHost>
                <backupConnectionProtocol>SSH</backupConnectionProtocol>
            </Connection>
        </Connections>
        <CMDBAssociateActions/>
        <CMDBQueryActions/>
        <EditVariableActions>
            <EditVariableAction>
                <actionID>333285</actionID>
                <RegexExtractVariableIDs/>
                <ScriptExtractVariableIDs/>
                <stateID>403950</stateID>
                <refresh>false</refresh>
                <script>component_output+="\n\n";
component_output+="=============\nVlan mismatch for "+ hostname+" is provided below\n";
component_output+="=============\nConfig information:\n=============\n"+show_config_output+"\n";
component_output+="==============\nInterfaces information:\n=============\n"+show_output+"\n";
component_output+="=============\nVlan information:\n=============\n"+show_vlan_output+"\n";
component_output+="\n\n";
component_output;
</script>
                <EditVariableTransforms/>
                <variableID>251428</variableID>
            </EditVariableAction>
        </EditVariableActions>
        <EmailActions>
            <EmailAction>
                <actionID>333281</actionID>
                <RegexExtractVariableIDs/>
                <ScriptExtractVariableIDs/>
                <stateID>403947</stateID>
                <body>${interface_name}
${component_output}
${hostname1_from_event}
${hostname}
</body>
                <from>@</from>
                <subject>@</subject>
                <to>@</to>
            </EmailAction>
        </EmailActions>
        <FormActions/>
        <HostCommandActions>
            <HostCommandAction>
                <actionID>333282</actionID>
                <RegexExtractVariableIDs/>
                <ScriptExtractVariableIDs/>
                <stateID>403945</stateID>
                <command>enable</command>
                <connectionName>affected_host</connectionName>
                <hardTimeoutSeconds>60</hardTimeoutSeconds>
                <resetPrompt>false</resetPrompt>
                <secureStderr>false</secureStderr>
                <secureStdout>false</secureStdout>
                <timeoutSeconds>10</timeoutSeconds>
                <trim>true</trim>
            </HostCommandAction>
            <HostCommandAction>
                <actionID>333287</actionID>
                <RegexExtractVariableIDs>
                    <RegexExtractVariableID>251430</RegexExtractVariableID>
                </RegexExtractVariableIDs>
                <ScriptExtractVariableIDs/>
                <stateID>403948</stateID>
                <command>show interfaces ${interface_name}</command>
                <connectionName>affected_host</connectionName>
                <hardTimeoutSeconds>320</hardTimeoutSeconds>
                <resetPrompt>false</resetPrompt>
                <secureStderr>false</secureStderr>
                <secureStdout>false</secureStdout>
                <timeoutSeconds>10</timeoutSeconds>
                <trim>true</trim>
            </HostCommandAction>
            <HostCommandAction>
                <actionID>333283</actionID>
                <RegexExtractVariableIDs/>
                <ScriptExtractVariableIDs/>
                <stateID>403944</stateID>
                <command>term len 0</command>
                <connectionName>affected_host</connectionName>
                <hardTimeoutSeconds>60</hardTimeoutSeconds>
                <resetPrompt>false</resetPrompt>
                <secureStderr>false</secureStderr>
                <secureStdout>false</secureStdout>
                <timeoutSeconds>10</timeoutSeconds>
                <trim>true</trim>
            </HostCommandAction>
            <HostCommandAction>
                <actionID>333288</actionID>
                <RegexExtractVariableIDs>
                    <RegexExtractVariableID>251431</RegexExtractVariableID>
                </RegexExtractVariableIDs>
                <ScriptExtractVariableIDs/>
                <stateID>403943</stateID>
                <command>show running-config interface ${interface_name}</command>
                <connectionName>affected_host</connectionName>
                <hardTimeoutSeconds>60</hardTimeoutSeconds>
                <resetPrompt>false</resetPrompt>
                <secureStderr>false</secureStderr>
                <secureStdout>false</secureStdout>
                <timeoutSeconds>10</timeoutSeconds>
                <trim>true</trim>
            </HostCommandAction>
            <HostCommandAction>
                <actionID>333286</actionID>
                <RegexExtractVariableIDs>
                    <RegexExtractVariableID>251429</RegexExtractVariableID>
                </RegexExtractVariableIDs>
                <ScriptExtractVariableIDs/>
                <stateID>403949</stateID>
                <command>show vlan</command>
                <connectionName>affected_host</connectionName>
                <hardTimeoutSeconds>60</hardTimeoutSeconds>
                <resetPrompt>false</resetPrompt>
                <secureStderr>false</secureStderr>
                <secureStdout>false</secureStdout>
                <timeoutSeconds>5</timeoutSeconds>
                <trim>true</trim>
            </HostCommandAction>
        </HostCommandActions>
        <LinkActions/>
        <LockTicketActions/>
        <RfcActions/>
        <ScriptActions>
            <ScriptAction>
                <actionID>333284</actionID>
                <RegexExtractVariableIDs/>
                <ScriptExtractVariableIDs/>
                <stateID>403951</stateID>
                <script>var old = execution.getPurpose();
execution.setPurpose("DIAGNOSIS");
"Change Execution Purpose from " + old + " to " + execution.getPurpose();</script>
            </ScriptAction>
        </ScriptActions>
        <WaitForRecoveryIPmonActions/>
        <GenericTicketEventWaitActions/>
        <AckProblemIPmonActions/>
        <CancelDowntimeIPmonActions/>
        <ExecuteCheckIPmonActions/>
        <ScheduleDowntimeIPmonActions/>
        <PhoneCallActions/>
        <TimedWaitActions/>
        <UpdateTicketActions/>
        <SubmitPassiveIPmonActionDetails/>
        <HttpRequestActions/>
        <IPdiscoverActions/>
        <ExecuteIPadminActions/>
        <SQLCommandActions/>
        <NotifyActions/>
        <ForkStates/>
        <FormStates/>
        <JoinStates/>
        <LinkStates/>
        <NoopStates>
            <NoopState>
                <name>Start</name>
                <originalID>372767</originalID>
                <stateID>403946</stateID>
                <XPos>230</XPos>
                <YPos>53</YPos>
            </NoopState>
        </NoopStates>
        <NormalStates>
            <NormalState>
                <actionID>333282</actionID>
                <name>en</name>
                <originalID>262454</originalID>
                <stateID>403945</stateID>
                <XPos>225</XPos>
                <YPos>133</YPos>
            </NormalState>
            <NormalState>
                <actionID>333284</actionID>
                <name>Change Execution Purpose - DIAGNOSIS</name>
                <notes>Change Execution Purpose</notes>
                <originalID>1336492</originalID>
                <stateID>403951</stateID>
                <XPos>453</XPos>
                <YPos>636</YPos>
            </NormalState>
            <NormalState>
                <actionID>333287</actionID>
                <name>Show Interface</name>
                <originalID>372832</originalID>
                <stateID>403948</stateID>
                <XPos>226</XPos>
                <YPos>431</YPos>
            </NormalState>
            <NormalState>
                <actionID>333283</actionID>
                <name>term len 0</name>
                <originalID>262457</originalID>
                <stateID>403944</stateID>
                <XPos>221</XPos>
                <YPos>224</YPos>
            </NormalState>
            <NormalState>
                <actionID>333288</actionID>
                <name>Show config</name>
                <originalID>374607</originalID>
                <stateID>403943</stateID>
                <XPos>222</XPos>
                <YPos>323</YPos>
            </NormalState>
            <NormalState>
                <actionID>333285</actionID>
                <name>Set component output</name>
                <originalID>372831</originalID>
                <stateID>403950</stateID>
                <XPos>227</XPos>
                <YPos>637</YPos>
            </NormalState>
            <NormalState>
                <actionID>333286</actionID>
                <name>Show Vlan</name>
                <originalID>374608</originalID>
                <stateID>403949</stateID>
                <XPos>225</XPos>
                <YPos>520</YPos>
            </NormalState>
            <NormalState>
                <actionID>333281</actionID>
                <name>Send Email</name>
                <originalID>372766</originalID>
                <stateID>403947</stateID>
                <XPos>75</XPos>
                <YPos>59</YPos>
            </NormalState>
        </NormalStates>
        <SuccessStates>
            <SuccessState>
                <name>Success</name>
                <originalID>372835</originalID>
                <stateID>403952</stateID>
                <XPos>675</XPos>
                <YPos>616</YPos>
            </SuccessState>
        </SuccessStates>
        <WaitStates/>
        <Transitions>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>true</completeMatch>
                    <evaluatorType>OUTPUT</evaluatorType>
                    <expression>0</expression>
                    <negate>false</negate>
                    <outputField>RET</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>249,637:259,637:259,636:259,636:421,636:431,636</connectorLayout>
                <fromStateID>403950</fromStateID>
                <labelLayout>0:0:3:50</labelLayout>
                <name>ok</name>
                <toStateID>403951</toStateID>
                <transitionID>452167</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>true</completeMatch>
                    <evaluatorType>OUTPUT</evaluatorType>
                    <expression>0</expression>
                    <negate>false</negate>
                    <outputField>RET</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>475,636:485,636:564,636:564,616:643,616:653,616</connectorLayout>
                <fromStateID>403951</fromStateID>
                <labelLayout>0:0:3:50</labelLayout>
                <name>ok</name>
                <toStateID>403952</toStateID>
                <transitionID>452166</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>true</completeMatch>
                    <evaluatorType>ALWAYS</evaluatorType>
                    <negate>true</negate>
                    <outputField>RET</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>207,54:197,54:197,59:197,59:108,59:98,59</connectorLayout>
                <fromStateID>403946</fromStateID>
                <labelLayout>0:0:3:50</labelLayout>
                <name>Never</name>
                <toStateID>403947</toStateID>
                <transitionID>452162</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>false</completeMatch>
                    <evaluatorType>OUTPUT</evaluatorType>
                    <expression>.*(\Q#\E|\Q&gt;\E|\Q$\E)</expression>
                    <negate>false</negate>
                    <outputField>OUT</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>222,339:222,349:226,349:226,349:226,405:226,415</connectorLayout>
                <fromStateID>403943</fromStateID>
                <labelLayout>0:0:3:50</labelLayout>
                <name>ok</name>
                <toStateID>403948</toStateID>
                <transitionID>452170</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>false</completeMatch>
                    <evaluatorType>OUTPUT</evaluatorType>
                    <expression>.*(\Q#\E|\Q&gt;\E)</expression>
                    <negate>false</negate>
                    <outputField>OUT</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>225,149:225,159:221,159:221,159:221,198:221,208</connectorLayout>
                <fromStateID>403945</fromStateID>
                <labelLayout>0:0:3:50</labelLayout>
                <name>ok</name>
                <toStateID>403944</toStateID>
                <transitionID>452164</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>false</completeMatch>
                    <evaluatorType>OUTPUT</evaluatorType>
                    <expression>.*(\Q#\E|\Q&gt;\E|\Q$\E)</expression>
                    <negate>false</negate>
                    <outputField>OUT</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>226,447:226,457:225,457:225,457:225,494:225,504</connectorLayout>
                <fromStateID>403948</fromStateID>
                <labelLayout>0:0:3:50</labelLayout>
                <name>ok</name>
                <toStateID>403949</toStateID>
                <transitionID>452169</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>false</completeMatch>
                    <evaluatorType>OUTPUT</evaluatorType>
                    <expression>.*(\Q#\E|\Q&gt;\E|\Q$\E)</expression>
                    <negate>false</negate>
                    <outputField>OUT</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>221,240:221,250:221,250:221,250:221,296:221,306</connectorLayout>
                <fromStateID>403944</fromStateID>
                <labelLayout>0:0:3:50</labelLayout>
                <name>ok</name>
                <toStateID>403943</toStateID>
                <transitionID>452165</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>false</completeMatch>
                    <evaluatorType>OUTPUT</evaluatorType>
                    <expression>.*(\Q#\E|\Q&gt;\E|\Q$\E)</expression>
                    <negate>false</negate>
                    <outputField>OUT</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>225,536:225,546:227,546:227,546:227,612:227,622</connectorLayout>
                <fromStateID>403949</fromStateID>
                <labelLayout>0:1:5:48</labelLayout>
                <name>Ok</name>
                <toStateID>403950</toStateID>
                <transitionID>452168</transitionID>
            </Transition>
            <Transition>
                <transitionEvaluator>
                    <completeMatch>true</completeMatch>
                    <evaluatorType>ALWAYS</evaluatorType>
                    <negate>false</negate>
                    <outputField>RET</outputField>
                    <weight>1</weight>
                </transitionEvaluator>
                <connectorLayout>230,69:230,79:230,85:230,85:230,95:225,95:225,107:225,117</connectorLayout>
                <fromStateID>403946</fromStateID>
                <labelLayout>0:0:3:50</labelLayout>
                <name>ALWAYS</name>
                <toStateID>403945</toStateID>
                <transitionID>452163</transitionID>
            </Transition>
        </Transitions>
        <TicketMatchers/>
        <Tags/>
    </automaton>
    <timeOfExport>2017-06-28T07:33:30.605Z</timeOfExport>
</automatonExport>
